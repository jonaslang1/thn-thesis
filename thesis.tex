\pdfminorversion=7
\documentclass[
    11pt,
    a4paper,
    sfdefaults=false,
    toc=chapterentrywithdots,
    oneside, % or twoside for printing
    openany, % or openright for printing
    titlepage,
    parskip=half,
    headings=normal,  % reduces heading size
    listof=totoc,
    bibliography=totoc,
    index=totoc,
    captions=tableheading,  % caption below table
    chapterprefix,
    listof=flat,
    numbers=noendperiod, % for omitting the trailing dot after chapter and section numbers
    final
]{scrbook}

% !TeX spellcheck = de_DE

% details about your thesis
\newcommand{\titel}{Evaluation von Contract Testing in Continuous Integration Pipelines zur Sicherstellung der Interoperabilit√§t in einer Microservice-Architektur}
\newcommand{\artderarbeit}{Bachelorarbeit}  % {Bachelorarbeit,Masterarbeit}
\newcommand{\autor}{Jonas Lang}
\newcommand{\studiengang}{Informatik}
\newcommand{\matrikelnr}{363\,0314}
\newcommand{\erstgutachter}{Prof.\,Dr.-Ing.~Matthias Meitner}
\newcommand{\zweitgutachter}{Prof.\,Dr.~Ronald Petrlic}
\newcommand{\betreuer}{Sebastian Foersch}
\newcommand{\unternehmen}{msg systems ag}
\newcommand{\logo}{figures/TH-Nuernberg-RGB.png}
\newcommand{\keywords}{continuous integration, ci/cd, contract testing, interoperability, microservices}
\newcommand{\submissionDate}{01. Juli 2025}

% custom head and foot
\usepackage[automark]{scrlayer-scrpage}
\pagestyle{scrheadings}
\ihead{\headmark}
\chead{}
%\ohead{\pagemark}

\RedeclareSectionCommand[tocindent=0pt]{section}
\RedeclareSectionCommand[tocindent=0pt]{subsection}
%\RedeclareSectionCommand[tocnumwidth=70pt]{chapter}

\usepackage{scrhack}

% other packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern,relsize,textcomp,csquotes}
\usepackage{amsmath,amsfonts} % math formulas
\usepackage[english, ngerman]{babel}  % flip for German thesis
\usepackage[final]{graphicx}
\usepackage{setspace,geometry,xcolor}
\usepackage{makeidx}
\usepackage{paralist,ifthen,todonotes}
\usepackage{url}
\usepackage[acronym,toc]{glossaries}
\usepackage{pdfpages}
\usepackage{enumitem} % for list and enumerations

% table setup
\usepackage{longtable}
\usepackage{array}
\usepackage{ragged2e}
\usepackage{lscape}
\usepackage{booktabs} % for advanced tables

% PDF/A compliance
\begin{filecontents*}{\jobname .xmpdata}
\Title{\titel}
\Author{\autor}
\Subject{\titel}
\Keywords{\keywords}
\Creator{\autor}
\end{filecontents*}

\usepackage[a-3b,mathxmp]{pdfx}
\hypersetup{
    bookmarksopen=true,
    bookmarksnumbered=true,
    bookmarksopenlevel=1,
    hidelinks,
    colorlinks=false,
    linkcolor=red,
    urlcolor=magenta,
    anchorcolor=black,
    citecolor=cyan,
    filecolor=magenta,
    menucolor=red,
    plainpages=false,
    hypertexnames=true,
    linktocpage=true
}
\usepackage[ngerman,nameinlink,noabbrev]{cleveref} % for better referencing

% configure your listings style
\usepackage{listings}
\lstset{
	tabsize=3,
	extendedchars=true,
	frame=single,
	showstringspaces=true,
	numbers=left,
	numberstyle=\small,
	breakautoindent=true
}

% page setup
% \setlength{\topskip}{\ht\strutbox}
\geometry{paper=a4paper,left=2.5cm,top=3.0cm,} % bindingoffset=.8cm for printing
\onehalfspacing
\frenchspacing
\clubpenalty = 10000
\widowpenalty = 10000 
\displaywidowpenalty = 10000

% some commands
\newcommand{\ua}{\mbox{u.\,a.\ }}
\newcommand{\zB}{\mbox{z.\,B.\ }}
\newcommand{\dahe}{\mbox{d.\,h.,\ }}
\newcommand{\bzw}{\mbox{bzw.\ }}
\newcommand{\bzgl}{\mbox{bzgl.\ }}
\newcommand{\eg}{\mbox{e.\,g.\ }}
\newcommand{\ie}{\mbox{i.\,e.\ }}
\newcommand{\wrt}{\mbox{w.\,r.\,t.\ }}
\newcommand{\etal}{\mbox{\emph{et\,al.\ }}}

% Bibliography
\usepackage[style=ieee, backend=biber, dashed=false]{biblatex}
\addbibresource{refs.bib}
\AtEveryBibitem{\clearfield{language}}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000}
% to force "et al." instead of "u.a.":
\DefineBibliographyStrings{german}{
    andothers = {{\etal}},
}

% load glossary
\loadglsentries{glossary.tex}
\makenoidxglossaries

\begin{document}

\setcounter{secnumdepth}{2}  % numerate subsections
\setcounter{tocdepth}{1}  % ...but don't include them in toc

\frontmatter
\include{cover}\cleardoublepage

% download the following form (requires VPN) and complete it (hit save in your editor)
% https://intern.ohmportal.de/fileadmin/Public_Docs/SB/SB_0009_FO_Pruefungsrechtliche_Erklaerung_und_Erklaerung_zur_Veroeffentlichung_der_Abschlussarbeit_public.pdf
%\includepdf{SB_0009_FO_Pruefungsrechtliche_Erklaerung_und_Erklaerung_zur_Veroeffentlichung_der_Abschlussarbeit_public.pdf}\cleardoublepage

\include{content/0_abstract}\cleardoublepage

\tableofcontents

\mainmatter
\include{content/1_intro}
\include{content/2_foundation}
\include{content/3_frameworks}
\include{content/4_implementation}
\include{content/5_evaluation}
\include{content/6_summary}

% remove if not needed
\appendix
\include{content/a1_supplemental}

\backmatter
\listoffigures
\cleardoublepage

\listoftables
\cleardoublepage

\renewcommand{\lstlistlistingname}{Auflistungsliste}  % change for German thesis
\lstlistoflistings
\cleardoublepage

\printnoidxglossaries

\sloppy
\printbibliography

\end{document}
